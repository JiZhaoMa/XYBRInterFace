<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>

</head>
<body id="body">
    <div id="title">
        <div style="width:97.6vw;">
            <span>星源博锐供应链看板</span>
            <span style="font-size: 18px !important; font-weight: bold;">—— 生产计划</span>
        </div>
        <div style="position: fixed; left: 86%; top: 3%">
            <select name="selectMonth" id="selectMonth">
                <option value="1">一月</option>
                <option value="2">二月</option>
                <option value="3">三月</option>
                <option value="4">四月</option>
                <option value="5">五月</option>
                <option value="6">六月</option>
                <option value="7">七月</option>
                <option value="8">八月</option>
                <option value="9">九月</option>
                <option value="10">十月</option>
                <option value="11">十一月</option>
                <option value="12">十二月</option>
            </select>
            <select name="selectAgent" id="selectAgent">
                <option value="0">所有</option>
                <option value="1">天宝</option>
                <option value="2">卓瑞源</option>
            </select>
        </div>
    </div>
    <div id="lineChart">
        <div id="planSum">
            <span>总计划</span>
        </div>
        <div id="month">
            <div style="width: 11%; display: inline-block;">
                <span>7月</span>
            </div>
            <div style="width: 11%; display: inline-block;">
                <span>8月</span>
            </div>
            <div style="width: 11%; display: inline-block;">
                <span>9月</span>
            </div>
        </div>
        <div id="productPlan">
            <span>生产计划</span>
            <div style="position: relative;left: 25%;top: -24px;">
                <div style="width: 11%; display: inline-block;">
                    <span>9000</span>
                </div>
                <div style="width: 11%; display: inline-block;">
                    <span>8000</span>
                </div>
                <div style="width: 11%; display: inline-block;">
                    <span>9000</span>
                </div>
            </div>
        </div>
        <div id="complateRate">
            <div>
                <span>计划完成率</span>
            </div>
            <div style="position: relative;left: 25%;top: -24px;">
                <div style="width: 11%; display: inline-block;">
                    <span>90%</span>
                </div>
                <div style="width: 11%; display: inline-block;">
                    <span>80%</span>
                </div>
                <div style="width: 11%; display: inline-block;">
                    <span>90%</span>
                </div>
            </div>
        </div>
    </div>
    <div id="productOfMonth">
        <div style="height: 100%">
            <iframe src="" width="100%" height="100%" id="productOfMonthIframe">
                您的浏览器不支持iframe，请升级
            </iframe>
        </div>
    </div>
    <div id="productOfMonthSum">
        <div style="position: fixed; display: flex; top: 45%">
            <div style="width:13.6vw; color: #FFFFFF; font-size: 18px; font-weight: bold">
                <span>合计</span>
            </div>
            <div style="width:13.5vw; color: #FFFFFF; font-size: 18px; font-weight: bold">
                <span>50000</span>
            </div>
            <div style="width:13.5vw; color: #FFFFFF; font-size: 18px; font-weight: bold">
                <span>4900</span>
            </div>
            <div style="width:13.6vw; color: #FFFFFF; font-size: 18px; font-weight: bold">
                <span>98.88%</span>
            </div>
        </div>
    </div>
    <div id="faHuoPie">

    </div>
    <div id="faHuoNumPie">

    </div>
<style>
    #planSum {
        height: 20%;
        color: #FFFFFF;
        font-size: 20px;
        font-weight: bold;
    }
    #month {
        height: 15%;
        top: 5%;
        left: 49%;
        position: relative;
        color: #FFFFFF;
        font-size: 18px;
        font-weight: bold;
    }
    #productPlan {
        height: 20%;
        top: 5%;
        left: 23%;
        position: relative;
        color: #FFFFFF;
        font-size: 18px;
        font-weight: bold;
    }
    #complateRate {
        height: 20%;
        top: 5%;
        left: 23%;
        position: relative;
        color: #FFFFFF;
        font-size: 18px;
        font-weight: bold;
    }

    #body {
        height: 620px;
        background: linear-gradient(45deg, #4892cb, #05244d);
    }
    #title {
        height: 7%;
        color: #FFFFFF;
        width: 40%;
        margin-left: auto;
        margin-right: auto;
        font-size: 25px;
        display: flex;
    }
    #lineChart {
        width: 35%;
        height: 40%;
        position: relative;
        left: 3%;
        top: 1%;
        background: linear-gradient(to bottom, #4892cb, #05244d);
        float: left;
    }
    #productOfMonth {
        width: 55%;
        height: 35%;
        position: relative;
        left: 7%;
        top: 1%;
        background-color: #05244d;
        float: left;
    }
    #productOfMonthSum {
        width: 55%;
        height: 5%;
        position: relative;
        left: 7%;
        float: left;
    }
    #faHuoPie {
        width: 35%;
        height: 40%;
        position: relative;
        left: 3%;
        top: 10%;
        background-color: #05244d;
        background: linear-gradient(to bottom, #4892cb, #05244d);
        float: left;
    }
    #faHuoNumPie {
        width: 55%;
        height: 40%;
        position: relative;
        left: 7%;
        top: 10%;
        background-color: #05244d;
        background: linear-gradient(to bottom, #4892cb, #05244d);
        float: left;
    }
</style>

<script type="text/javascript" th:src="@{/js/plugins/echarts.min.js}"></script>
<script type="text/javascript" th:src="@{/js/xybr/report.js}"></script>
<script type="text/javascript" th:src="@{/js/xybr/productPlan.js}"></script>
<script type="text/javascript" th:src="@{/js/xybr/productPlanOfMonth.js}"></script>
<script type="text/javascript" th:src="@{/js/xybr/faHuo.js}"></script>
<script type="text/javascript" th:src="@{/js/xybr/faHuoNum.js}"></script>
    <script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
<script type="text/javascript">
	//初始化
	/*let eChart = echarts.init(document.getElementById("lineChart"));*/
    /*let eChart1 = echarts.init(document.getElementById("productOfMonth"));*/
    let faHuoPie = echarts.init(document.getElementById("faHuoPie"));
    let faHuoNumPie = echarts.init(document.getElementById("faHuoNumPie"));
	// 调用
	/*createProductChart(eChart, {});*/
    /*createProductOfMonthChart(eChart1, {});*/
    createFaHuoPie(faHuoPie,{});
    createfaHuoNumPie(faHuoNumPie, {});
    watermark('XYBR');
   window.onload = function (){
        var width = window.innerWidth;
        var height = window.innerHeight;
        var body = document.getElementById("body");
        body.style.height = height - 20 + 'px';

        //给下拉框初始值
       var currentDays = new Date();
       var year = currentDays.getFullYear();
       var month = currentDays.getMonth();
       document.getElementById("selectMonth").value = month;
       document.getElementById("productOfMonthIframe").src = "/report/plan/getProductPlanOfMonth/"+month+"/"+0;
    };
   $(document).ready(function (){
       $("#selectMonth").change(function (){
           debugger;
           var monthValue = $(this).val();
           var agentValue = document.getElementById("selectAgent").value;
           document.getElementById("productOfMonthIframe").src = "/report/plan/getProductPlanOfMonth/"+monthValue+"/"+agentValue;
           //document.getElementById("productOfMonthIframe").contentWindow.location.reload();
       });
       $("#selectAgent").change(function (){
           debugger;
           var monthValue = document.getElementById("selectMonth").value;
           var agentValue = $(this).val();
           document.getElementById("productOfMonthIframe").src = "/report/plan/getProductPlanOfMonth/"+monthValue+"/"+agentValue;
           //document.getElementById("productOfMonthIframe").contentWindow.location.reload();
       });
   })
</script>
</body>
</html>
